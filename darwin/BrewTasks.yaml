version: '3'

tasks:
  apply:
    desc: Downloads and installs brews listed in the Brewfile.
    platforms: [darwin]
    cmds:
      - defer: { task: cleanup }
      - echo "üç∫ Applying brews"
      - brew bundle --file ./Brewfile

  cleanup:
    desc: Uninstall brews not listed in the Brewfile.
    platforms: [darwin]
    cmds:
      - echo "üç∫ Cleaning up brews"
      - brew bundle cleanup --file ./Brewfile --force

  dump:
    desc: Write all installed casks/formulae/images/taps into the Brewfile.
    platforms: [darwin]
    cmds:
      - echo "üç∫ ‚ôªÔ∏è Dumping brews"
      - brew bundle dump --file ./Brewfile --force
